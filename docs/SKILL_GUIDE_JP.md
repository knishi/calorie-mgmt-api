# 開発プロセス憲法 (SKILL.md) 日本語解説ガイド

本ドキュメントは、AIエージェントの行動指針である `.agent/skills/api_development/SKILL.md`（英文）の内容を、人間が理解しやすいように日本語で解説・要約したものです。

> [!IMPORTANT]
> AIエージェントは性能最大化のため英文の `SKILL.md` を直接参照します。本ガイドと英文の間に矛盾がある場合は、常に**英文の `SKILL.md` が優先**されます。

## 1. チームの役割定義
AIエージェントは状況に応じて以下の3つの役割を使い分けます。

- **計画フェーズ (Architect & PM)**: 何を作るか、どう作るかを設計し、`implementation_plan.md` を作成します。
- **実装フェーズ (Lead Developer)**: TDD（テスト駆動開発）に基づき、クリーンなコードを書きます。
- **検証フェーズ (QA & SRE)**: テストを実行し、DockerやCI/CDの動作を確認して `walkthrough.md` を作成します。

## 2. 特別な監視役：AIインスペクター
AIの「急ぎすぎ」や「設計無視」を防ぐための番人です。
- **トリガー**: 計画時や、同じファイルへの連続修正など。
- **アクション**: 構造上の問題がある場合に `> [!CAUTION]` 警告を出し、解決策を提案します。

## 3. 絶対遵守ルール (Workflow Rules)
1.  **計画スキップ禁止**: 小さな修正でも必ず計画（Planning）から始めます。
2.  **厳格なTDD**: 必ず「失敗するテスト(RED)」から書き始めます。
3.  **整合性の維持 (Integrity Logic)**:
    - `SKILL.md` を更新したら、本日本語ガイドを含む `docs/` 全体も更新します。
    - コード設計を変えたら、ドキュメントに反映します。
    - 全ての変更は **「開発実績ログ (walkthrough.md)」** に記録します。

## 4. コーディング・運用標準
- **ログ**: `oslo.log` を使用し、相関ID（リクエスト追跡用）を含めます。`print` の使用は禁止されています。
- **エラー**: 辞書を返さず、必ず `AppError` 派生の例外を投げ、グローバルフックで処理します。
- **構成**: Backend (Port 8080) と Frontend (Port 3000) は完全に疎結合（CORS通信）として運用します。
- **検証**: 従来のユニットテストに加え、Playwright によるブラウザ実機 E2E テストの実行を標準とします。
- **マスター管理**: 本プロジェクトは「ゴールドマスター」であり、個別のプロジェクト（子）にアップデートを配付する役割を担います。

---

## 本ガイドの更新ルール
私（AI）が英文の `SKILL.md` を修正した際、この日本語ガイドも自動的に更新されます。もし内容が古い、あるいは理解しにくい場合は、いつでも「日本語解説を最新にして」と指示してください。
