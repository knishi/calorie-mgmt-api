# 機能説明書 (Functional Specification) - Phase 2

## 概要
ユーザーの身体情報に基づき、目標体重に向けた日々の摂取カロリーを自動算出し、管理を支援する機能です。

## 主要機能

### 1. ユーザープロファイル管理
ユーザーは以下の身体情報を登録・更新できます。
- **性別**: 基礎代謝計算に使用（male/female）
- **年齢**: 基礎代謝計算に使用
- **身長 (cm)**: 基礎代謝計算に使用
- **現在の体重 (kg)**: TDEE計算のベース
- **活動レベル**: 1.2（低）〜 1.9（高）の係数

### 2. インテリジェント目標設定
「特定の期日までに何キロになりたいか」を入力することで、日々の目標を自動生成します。
- **目標体重 (kg)**
- **目標期限 (Date)**
- **自動算出ロジック**: 
    - 基礎代謝(BMR)算出（ハリス・ベネディクト改訂版）
    - 1日の総消費カロリー(TDEE)算出
    - 体脂肪1kg削減に必要な7,200kcalを期間で除算し、1日の許容摂取カロリーを決定。

### 3. 日次サマリー
その日の食事記録を集計し、目標に対して「あとどれくらい食べられるか」を可視化します。
- **現在の摂取合計**: その日の `MealRecord` の累計
- **今日の目標**: `UserGoal` で算出された値
- **残存カロリー**: `目標 - 摂取合計`

## 制約事項
- 体重減少のペースが極端に早い（例：1日あたりの欠損が基礎代謝を下回る）場合、健康維持のため警告または最小値を設定する仕様（将来拡張）。
